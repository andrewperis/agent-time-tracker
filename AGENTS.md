# AGENTS.md

## Purpose
This file defines instructions that Codex must follow whenever it creates commits, pull requests, or applies changes in this repository.

## Commit Message Policy
Codex must always include a work-duration tag in commit messages.

### Required Format
Every commit message generated by Codex **must** end with a line in this exact format:

```
Worked: <X> seconds
```

Where:
- `<X>` is an integer representing the number of seconds Codex spent working on the change.
- `<X>` must be calculated from the beginning of the Codex session for this task until the commit is made.

### Examples

Valid commit message:

```
Refactored delivery controller to simplify validation paths.

Worked: 142 seconds
```

Invalid commit message (missing tag):

```
Refactored delivery controller to simplify validation paths.
```

Invalid commit message (incorrect format):

```
Time spent: 2 minutes
```

### Additional Rules
- Codex must never omit the `Worked:` line.
- Codex must never convert seconds into minutes or other units.
- Codex must not rewrite prior human-generated commit messages; the rule applies only to Codex-generated ones.
- When multiple commits occur in a single Codex session, each commit must compute and record its own elapsed seconds independently.

## Scope
These instructions apply to:
- All Codex-initiated commits
- All Codex-initiated pull requests
- Any task where Codex writes code into the repository and produces a commit message

## Enforcement
Codex must treat this document as authoritative for all commit-message formatting in this repository.
